<p id="address"></p>



Showing details for <%= @property.street %> owned by <%= @property.landlord.fullname %><br>

<% @property.tenants.each do |tenant| %>

	<%= link_to "#{tenant.fullname}", landlord_property_tenant_path(@property.landlord, @property, tenant) %><br>

<% end %>

<script type="text/javascript" charset="utf-8">

	//function to create a property object
	function Property(rawJson) {
		this.street = rawJson.street;
		this.city = rawJson.city;
		this.state = rawJson.state;
		this.zip = rawJson.zip;
	};

	//add method on to each property object... calling #fullAddress will return concatenated string
	Property.prototype.fullAddress = function() {
		return this.street + " " + this.city + " " + this.state + " " + this.zip;
	};

	//add code for creating tenant objects eg. tenant.firstname, tenant.lastname, etc...

	//make inital jquery http get request to api end point of rails app
	request = $.getJSON('http://localhost:3000/landlords/<%= "#{params['landlord_id']}" %>/properties/<%= "#{params['id']}" %>.json', function(data) {
		//assigned all returned json to result
		let result = data;
		let p = new Property(result[0]);
		debugger;
		let tenantArr = result[1];
		$("#address").text('Showing details for ' + p.fullAddress());
	});
</script>